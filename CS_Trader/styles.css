:root{
  --bg: #050608;
  --card:#0b0f14;
  --ink:#e6e6e6;
  --muted:#a9b0bb;

  /* CS-vibe aksenter */
  --accent:#f6c343;   /* hazard yellow */
  --accent2:#ff8a2b;  /* warm orange */
  --accent3:#6ee7ff;  /* kald “blue highlight” */

  --w: min(1000px, 92vw);
  --radius: 14px;
  --shadow: 0 18px 55px rgba(0,0,0,.6);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 70% -10%, #12224a 0%, transparent 60%),
    radial-gradient(1100px 700px at 10% 0%, #0f2d28 0%, transparent 55%),
    linear-gradient(180deg, var(--bg) 0%, #05070c 100%);
  overflow-x:hidden;
}

/* progress */
.progress{
  position:fixed; inset:0 0 auto 0; height:4px; z-index:9999;
  background:linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3));
  transform-origin:left; transform:scaleX(0);
  box-shadow:0 0 18px rgba(112,255,191,.8);
}

/* skins layer */
.skins-layer{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  overflow:hidden;
  transition: background 1s ease;
}

/* ✅ skins = KUN bilde, ingen boks/ramme */
.skin{
  position:absolute;
  width:190px;
  height:120px;
  background:transparent !important;
  border:none !important;
  border-radius:0 !important;
  box-shadow:none !important;
  padding:0 !important;
  margin:0 !important;
  opacity:.95;
  pointer-events:none;
  user-select:none;
}
.skin::before,
.skin::after{
  content:none !important;
  display:none !important;
}
.skin img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,.65));
}

/* rail */
.rail{
  position:fixed; left:18px; top:50%; transform:translateY(-50%);
  z-index:6; width:180px;
  background:rgba(9,13,23,.72);
  border:1px solid #1c2747; border-radius:16px; padding:10px;
  backdrop-filter: blur(6px);
}
@media (max-width: 900px){
  .rail{ display:none; }
}
.rail .dot{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px; border-radius:12px;
  color:var(--muted); font-weight:700; font-size:.9rem;
  transition:.25s ease; cursor:pointer; white-space:nowrap;
}
.rail .dot i{
  width:10px; height:10px; border-radius:999px;
  background:#2a3556; box-shadow:0 0 0 2px #141b30 inset;
  transition:.25s ease;
}
.rail .dot.active{
  color:var(--ink); background:#0f1930; border:1px solid #263a74;
}
.rail .dot.active i{
  background:linear-gradient(180deg,var(--accent),var(--accent2));
  box-shadow:0 0 12px rgba(112,255,191,.8);
}

/* scenes */
.scene{
  min-height:100vh;
  display:grid; place-items:center;
  position:relative;
  z-index:2;
  padding: 10vh 0;
}
.scene::after{
  content:""; position:absolute; inset:auto 0 -1px 0; height:1px;
  background:linear-gradient(90deg, transparent, #1b2a55, transparent);
  opacity:.7;
}
.scene-inner{
  width:var(--w);
  background:rgba(15,22,40,.9);
  border:1px solid #1c2a52;
  border-radius: calc(var(--radius) + 6px);
  padding: clamp(18px, 3vw, 28px);
  box-shadow: var(--shadow);
  transform: translateY(30px) scale(.98);
  opacity:0;
  transition: .9s cubic-bezier(.2,.8,.2,1);
}
.scene.reveal .scene-inner{
  transform: translateY(0) scale(1);
  opacity:1;
}

/* hero */
.hero{ padding-top:12vh; }
.hero-inner{
  width: min(1150px, 92vw);
  display:grid; gap:18px; align-items:center;
  grid-template-columns: 1.2fr .8fr;
}
@media (max-width: 900px){
  .hero-inner{ grid-template-columns: 1fr; }
}
.kicker{
  letter-spacing:.16em; text-transform:uppercase;
  font-weight:800; color:var(--accent); font-size:.85rem;
}
h1{
  font-size: clamp(2.2rem, 5vw, 3.6rem);
  line-height:1.05; margin:0;
}
.lead{
  color:var(--muted);
  font-size: clamp(1.05rem, 2vw, 1.25rem);
  max-width:60ch;
}
.meta{ color:var(--muted); display:flex; gap:10px; flex-wrap:wrap; }
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border:1px solid #25355f;
  border-radius:999px; background:rgba(0,0,0,.25);
  font-size:.9rem; color:var(--muted);
}
.hero-card{
  background: linear-gradient(180deg, #0f1b35, #0b1222);
  border:1px solid #1d2a50;
  border-radius: calc(var(--radius) + 8px);
  padding:18px; box-shadow:var(--shadow);
  position:relative; overflow:hidden;
}
.hero-title{ font-weight:900;font-size:1.1rem;margin-bottom:6px; }
.hero-sub{ margin-top:10px;color:var(--muted);font-size:.95rem; }
.mini-grid{
  position:absolute; inset:-40% -10% auto auto; width:280px; height:280px;
  background:
    linear-gradient(transparent 0 95%, rgba(255,255,255,.06) 95% 100%),
    linear-gradient(90deg, transparent 0 95%, rgba(255,255,255,.06) 95% 100%);
  background-size: 22px 22px;
  transform: rotate(18deg);
  opacity:.5; pointer-events:none;
}

/* stats */
.stat{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:6px; }
.stat .box{
  background:rgba(0,0,0,.35);
  border:1px solid #24335d;
  border-radius:14px; padding:12px;
}
.stat .label{ color:var(--muted); font-size:.9rem }
.stat .value{ font-size:1.4rem; font-weight:900; margin-top:2px }

/* chapter / text */
.chapter{
  font-size:.9rem; letter-spacing:.12em; text-transform:uppercase;
  color:var(--muted); font-weight:800; margin-bottom:6px;
}
.scene h2{
  margin:0 0 6px;
  font-size: clamp(1.6rem, 2.8vw, 2.2rem);
}
.scene p{
  margin:8px 0; line-height:1.65; color:#d8def0;
  font-size: clamp(1rem, 1.8vw, 1.08rem);
}

/* beats */
.beats{
  margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;
}
.beat{
  padding:7px 10px; border-radius:999px;
  background:#0c152b; border:1px solid #243561;
  color:#cbd6f0; font-weight:700; font-size:.92rem;
  transform: translateY(8px); opacity:0;
  transition:.6s ease;
}
.scene.reveal .beat{ transform: translateY(0); opacity:1; }
.scene.reveal .beat:nth-child(2){ transition-delay:.12s; }
.scene.reveal .beat:nth-child(3){ transition-delay:.24s; }

/* ticker */
.ticker{
  margin-top:12px;
  background:#050810; border:1px solid #18244a;
  border-radius:12px; padding:10px;
  display:flex; gap:10px; overflow:hidden;
}
.ticker-track{
  display:flex; gap:10px; animation:ticker 14s linear infinite;
  font-weight:800;
}
.chip{
  padding:6px 10px; background:#0d152b;
  border:1px solid #233461; border-radius:999px;
  font-size:.92rem; color:#cfe1ff;
}
.chip.up{ color:#b6ffd9; border-color:#1d5f4a; }
.chip.down{ color:#ffc9b6; border-color:#6a2c2c; }
@keyframes ticker{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* growth */
.growth{
  margin-top:12px; padding:12px; border-radius:14px;
  background:#0b1427; border:1px solid #22335f;
}
.growth .row{ display:flex; justify-content:space-between; color:var(--muted); font-size:.95rem }
.growth .row.end{ margin-top:8px; }
.bar{
  height:12px; background:#0a0f1e; border:1px solid #233461;
  border-radius:999px; overflow:hidden; margin-top:8px;
}
.bar > span{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  box-shadow:0 0 12px rgba(112,255,191,.8);
  transition:1.2s ease;
}

/* quote */
.quote{
  margin-top:12px; border-left:3px solid var(--accent3);
  padding:10px 12px; background:rgba(255,168,107,.06);
  color:#ffe3d0; border-radius:8px;
}

/* scroll hint */
.scroll-hint{
  position:absolute; bottom:28px; left:50%;
  transform:translateX(-50%);
  display:flex; align-items:center; gap:10px;
  color:var(--muted); font-size:.95rem;
}
.mouse{
  width:22px;height:34px;border:2px solid var(--muted);
  border-radius:12px; position:relative;
}
.mouse::after{
  content:""; position:absolute; left:50%; top:6px;
  width:4px; height:7px; transform:translateX(-50%);
  background:var(--muted);border-radius:2px; animation:wheel 1.6s infinite;
}
@keyframes wheel{
  0%{transform:translate(-50%,0); opacity:1}
  70%{transform:translate(-50%,9px); opacity:.2}
  100%{opacity:0}
}

/* footer */
footer.end{
  width:var(--w); margin:0 auto; color:var(--muted);
  padding:40px 0 70px; font-size:1rem;
  border-top:1px dashed #21325f;
  z-index:2; position:relative;
}
/* ===== HERO UPGRADE ===== */
.hero{
  position: relative;
  padding-top: 12vh;
  overflow: clip;
}

.hero-bg{
  position:absolute; inset:0; z-index:1; pointer-events:none;
}



.hero-grid{
  position:absolute; inset:-10%;
  background:
    linear-gradient(transparent 0 96%, rgba(255,255,255,.05) 96% 100%),
    linear-gradient(90deg, transparent 0 96%, rgba(255,255,255,.05) 96% 100%);
  background-size: 26px 26px;
  mask: radial-gradient(60% 60% at 50% 20%, #000 0%, transparent 70%);
  opacity:.25;
}

.hero-inner{
  position:relative; z-index:2;
  width: min(1150px, 92vw);
  margin: 0 auto;
  display:grid; gap:18px; align-items:center;
  grid-template-columns: 1.2fr .8fr;
}
@media (max-width:900px){
  .hero-inner{ grid-template-columns:1fr; }
}

.hero-title{
  font-size: clamp(2.3rem, 5vw, 3.8rem);
  line-height:1.05; margin:0;
}
.hero-title-accent{
  display:block; font-size: clamp(1.1rem, 2.4vw, 1.5rem);
  color: var(--muted); font-weight:800; margin-top:8px;
}

.hero-rotator{
  margin:12px 0 0;
  font-size: clamp(1.05rem, 2vw, 1.25rem);
  color:#cfd6ea;
  min-height: 1.6em;
}
.cursor{
  opacity:.8; animation: blink 1s steps(1) infinite;
}
@keyframes blink{ 50%{opacity:0;} }

.hero-actions{
  display:flex; gap:10px; margin-top:14px; flex-wrap:wrap;
}
.btn{
  border:1px solid #2a3a66;
  background: #0b1427;
  color: var(--ink);
  padding:10px 14px;
  border-radius: 999px;
  font-weight:900;
  cursor:pointer;
  transition:.2s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.btn:hover{ transform: translateY(-2px); }
.btn.primary{
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  color:#071018; border:none;
}
.btn.ghost{
  background: transparent;
}

.hero-stats{
  display:flex; gap:8px; flex-wrap:wrap; margin-top:14px;
}
.stat-pill{
  background: rgba(7,10,18,.6);
  border:1px solid #243561;
  padding:8px 10px; border-radius:12px;
  min-width: 150px;
}
.stat-pill .label{ color:var(--muted); font-size:.9rem; }
.stat-pill .value{ font-weight:900; font-size:1.1rem; margin-top:2px; }

/* hero card interaksjon */
.hero-card{
  position:relative;
  background: linear-gradient(180deg, #0f1b35, #0b1222);
  border:1px solid #1d2a50;
  border-radius: 22px;
  padding:18px;
  box-shadow: var(--shadow);
  transform-style: preserve-3d;
  transition: transform .12s ease-out, box-shadow .12s ease-out;
  will-change: transform;
}
.hero-card.is-paused{
  opacity:.8;
}

.hero-card-top{ margin-bottom:10px; }
.hero-card-title{ font-weight:900; font-size:1.2rem; }
.hero-card-sub{ color:var(--muted); font-size:.95rem; }

.hero-meter{
  margin-top:10px;
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:10px;
}
.meter-label{ color:var(--muted); font-size:.9rem; margin-bottom:6px; }
.meter-bar{
  height:12px; background:#0a0f1e; border:1px solid #233461;
  border-radius:999px; overflow:hidden;
}
.meter-bar span{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, var(--accent), var(--accent3));
  transition:1s ease;
}
.meter-hint{ color:#cfe1ff; font-weight:800; font-size:.9rem; margin-top:6px; }

.hero-mini-rail{
  display:flex; gap:6px; margin-top:12px;
}
.mini-dot{
  width:10px; height:10px; border-radius:999px;
  background:#2b3553;
}
.mini-dot.active{ background: var(--accent); box-shadow:0 0 10px rgba(112,255,191,.8); }

.hero-card-footer{
  display:flex; align-items:center; gap:8px;
  color:var(--muted); font-size:.9rem; margin-top:12px;
}
.pulse{
  width:8px;height:8px;border-radius:999px;background:var(--accent);
  box-shadow:0 0 12px rgba(112,255,191,.9);
  animation:pulse 1.4s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1);opacity:.9}
  50%{transform:scale(1.8);opacity:.3}
}

/* ===== CS:GO HEADER THEME ===== */

.hero{
  position: relative;
  padding-top: 12vh;
  overflow: clip;
}

/* Bakgrunn med “reticle + støv” */
.hero::before{
  content:"";
  position:absolute; inset:-20%;
  background:
    radial-gradient(900px 500px at 70% 0%, rgba(255,138,43,.08), transparent 60%),
    radial-gradient(1000px 700px at 10% 10%, rgba(246,195,67,.06), transparent 60%),
    radial-gradient(700px 700px at 50% 70%, rgba(80,120,255,.05), transparent 65%);
  z-index:0;
}

.hero::after{
  /* svake scanlines / dust */
  content:"";
  position:absolute; inset:0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.03),
      rgba(255,255,255,.03) 1px,
      transparent 1px,
      transparent 3px
    );
  mix-blend-mode: overlay;
  opacity:.15;
  z-index:0;
  pointer-events:none;
}

.hero-inner{ position:relative; z-index:2; }

/* CS-aktig tittel */
.hero-title{
  text-transform: uppercase;
  letter-spacing: .02em;
  font-weight: 1000;
  text-shadow: 0 6px 25px rgba(0,0,0,.8);
}
.hero-title-accent{
  color: var(--accent);
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
}

/* Kicker som “match feed” */
.kicker{
  color: var(--accent2);
  font-weight: 1000;
  letter-spacing: .18em;
  text-transform: uppercase;
  font-size: .8rem;
}

/* HUD-knapper */
.btn{
  background: #0a0e13;
  border: 1px solid #243041;
  color: var(--ink);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03),
              0 10px 25px rgba(0,0,0,.6);
}
.btn.primary{
  background: linear-gradient(180deg, var(--accent), var(--accent2));
  color:#0b0f14;
  border:none;
  text-transform: uppercase;
  letter-spacing:.08em;
}
.btn.ghost{
  text-transform: uppercase;
  letter-spacing:.08em;
}

/* HERO-panel som inventory HUD */
.hero-card{
  position:relative;
  background: linear-gradient(180deg, #0a0f14, #070a0e);
  border:1px solid #1f2a38;
  border-radius: 12px;
  box-shadow: var(--shadow);
  overflow:hidden;
}

/* Hazard stripe øverst på hero-card */
.hero-card::before{
  content:"";
  position:absolute; left:-20%; top:0; width:140%; height:10px;
  background:
    repeating-linear-gradient(
      135deg,
      var(--accent),
      var(--accent) 10px,
      #121820 10px,
      #121820 20px
    );
  opacity:.9;
}

/* Liten crosshair/reticle bak hero-card */
.hero-card::after{
  content:"";
  position:absolute; right:-60px; bottom:-60px;
  width:220px; height:220px; border-radius:999px;
  border:2px solid rgba(110,231,255,.12);
  box-shadow: inset 0 0 0 18px rgba(110,231,255,.03);
  opacity:.8;
  pointer-events:none;
}

/* Stats “ammo-style” */
.stat-pill{
  background: rgba(0,0,0,.45);
  border:1px solid #1e2a3a;
  border-radius: 10px;
}
.stat-pill .label{
  text-transform: uppercase;
  letter-spacing:.12em;
  font-size:.75rem;
}
.stat-pill .value{
  color: #fff;
}

/* Meteret mer “market HUD” */
.hero-meter{
  background:#070b10;
  border:1px solid #1b2533;
}
.meter-bar{
  background:#05070a;
  border-color:#1c2838;
}
.meter-bar span{
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  box-shadow: 0 0 18px rgba(246,195,67,.8);
}

/* mini-rail dots som ranks */
.mini-dot{
  background:#202a38;
}
.mini-dot.active{
  background: var(--accent);
  box-shadow:0 0 12px rgba(246,195,67,.9);
}

/* Scroll hint litt mer CS-HUD */
.scroll-hint{
  color: #c7ccd6;
  text-transform: uppercase;
  letter-spacing:.16em;
  font-weight: 900;
  font-size:.8rem;
}
.mouse{
  border-color:#3a4558;
}
.mouse::after{ background:#c7ccd6; }

.drop-ticker{
  margin-top:10px;
  background:#05070a;
  border:1px solid #1c2838;
  border-radius:10px;
  padding:8px 10px;
  overflow:hidden;
  display:block;
  position:relative;
}
.drop.drop-skin{
  padding:2px 6px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#0a0e13;
}

.drop.drop-skin img{
  height:50px;
  width:auto;
  display:block;
  object-fit:contain;
  pointer-events:none;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.6));
}

.drop-track{
  display:flex;
  flex-wrap:nowrap;
  white-space:nowrap;
  width:max-content;
  align-items:center;
  will-change:transform;
  animation:droptick 16s linear infinite;
}
.drop-track > .drop{
  flex:0 0 auto;
  margin-right:8px;
}
.drop-track > .drop:last-child{
  margin-right:0;
}


.drop{
  padding:4px 8px;
  border-radius:999px;
  background:#0a0e13;
  border:1px solid #1f2a38;
  color:#d7dbe5;
  display:flex;
  align-items:center;
  justify-content:center;
  height:54px;            /* fast høyde så alt ligger pent */
}
.drop:nth-child(1),
.drop:nth-child(8){ color: var(--accent); border-color:#5a4a1d; }
@keyframes droptick{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* ===== Chapter 2: Market / Arbitrage interaction ===== */

.market .market-lead{
  font-size: 1.1rem;
  color: #dbe3f7;
  margin-bottom: 14px;
}

.market-board{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  gap:14px;
  margin-top:10px;
  align-items:center;
}

.market-col{
  display:grid;
  gap:8px;
  justify-items:center;
}

.market-tag{
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:.12em;
  font-size:.75rem;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid #2a3b66;
  background:#0a1328;
  color:#cfe1ff;
}
.market-tag.poor{ color:#ffc9b6; border-color:#6a2c2c; }
.market-tag.rich{ color:#b6ffd9; border-color:#1d5f4a; }

.market-card{
  width:100%;
  max-width:320px;
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:14px;
  display:grid;
  gap:4px;
  text-align:center;
  transform: translateY(10px) scale(.98);
  opacity:0;
  transition:.8s ease;
}
.scene.reveal .market-card{
  transform: translateY(0) scale(1);
  opacity:1;
}
.market-card .skin-name{
  font-weight:900;
  font-size:1.1rem;
}
.market-card .price{
  font-weight:1000;
  font-size:1.6rem;
}
.market-card .sub{
  color:var(--muted);
  font-size:.95rem;
}

/* spread middle */
.market-col.mid{ width:160px; }
.spread{
  position:relative; height:140px; width:100%;
  display:grid; place-items:center;
  opacity:0; transform:scale(.9);
  transition:.9s ease .2s;
}
.scene.reveal .spread{
  opacity:1; transform:scale(1);
}
.spread-line{
  position:absolute; left:50%; top:10px; bottom:10px; width:2px;
  background:linear-gradient(180deg, transparent, var(--accent2), transparent);
  box-shadow:0 0 18px rgba(124,195,255,.6);
}
.spread-chip{
  background:#050810;
  border:1px solid #18244a;
  padding:6px 10px;
  border-radius:999px;
  font-weight:900;
  font-size:.9rem;
  color:#ffd9b6;
}

/* arbitrage steps */
.arb-steps{
  margin-top:300px;
  display:grid;
  gap:8px;
}

.arb-step{
  display:flex; gap:10px; align-items:center;
  background:#0a1224;
  border:1px dashed #2a3d72;
  border-radius:12px;
  padding:10px 12px;
  opacity:0; transform:translateY(8px);
  transition:.6s ease;
}
.arb-num{
  width:40px; height:28px; border-radius:999px;
  display:grid; place-items:center;
  background:linear-gradient(180deg,var(--accent),var(--accent2));
  color:#081017; font-weight:1000;
}
.arb-text{
  font-weight:800; color:#e3e9f8;
}
.arb-mini{
  color:var(--muted); font-weight:700; margin-left:6px;
}

/* reveal one-by-one via JS */
.arb-step.is-on{
  opacity:1; transform:translateY(0);
}

/* result callout */
.market-result{
  margin-top:14px;
  display:flex; gap:10px; align-items:center;
  background:#0b1427;
  border:1px solid #243561;
  border-radius:14px;
  padding:12px;
  opacity:0; transform:translateY(6px);
  transition:.7s ease;
}
.market-result.is-on{
  opacity:1; transform:translateY(0);
}
.result-chip{
  padding:6px 10px; border-radius:999px;
  background:#050810; border:1px solid #18244a;
  font-weight:1000; letter-spacing:.1em; text-transform:uppercase;
  color:#b6ffd9;
}
.result-text{ color:#dbe3f7; font-weight:700; }

/* ===== Kapittel 2 v2: mer fortelling + mer motion ===== */

.market2 .storybeats{
  display:grid; gap:6px; margin-bottom:12px;
}
.market2 .beatline{
  opacity:0; transform:translateY(8px);
  transition:.7s ease;
  font-size:1.08rem; color:#dbe3f7;
}
.market2.reveal .beatline{ opacity:1; transform:translateY(0); }
.market2.reveal .beatline:nth-child(2){ transition-delay:.25s; }
.market2 .beatline.faint{ color:var(--muted); font-size:1.02rem; }

.market-scene{
  margin-top:8px;
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  gap:12px;
  align-items:center;
}

.market-side{
  display:grid; gap:8px; justify-items:center;
}

.market-tag{
  font-weight:900; text-transform:uppercase; letter-spacing:.12em;
  font-size:.75rem; padding:6px 10px; border-radius:999px;
  border:1px solid #2a3b66; background:#0a1328; color:#cfe1ff;
}
.market-tag.poor{ color:#ffc9b6; border-color:#6a2c2c; }
.market-tag.rich{ color:#b6ffd9; border-color:#1d5f4a; }

.market-card{
  width:100%; max-width:320px; background:#0b1427;
  border:1px solid #22335f; border-radius:14px; padding:14px;
  display:grid; gap:4px; text-align:center;
  transform: translateY(10px) scale(.98);
  opacity:0; transition:.8s ease;
  position:relative; overflow:hidden;
}
.scene.reveal .market-card{
  transform: translateY(0) scale(1);
  opacity:1;
}
.market-card:hover{
  transform: translateY(-2px) scale(1.01);
  box-shadow:0 0 0 1px rgba(255,255,255,.04),
             0 18px 35px rgba(0,0,0,.6);
}

.market-card .skin-name{ font-weight:900; font-size:1.1rem; }
.market-card .price{ font-weight:1000; font-size:1.6rem; }
.market-card .sub{ color:var(--muted); font-size:.95rem; }

.seller-note{
  font-size:.92rem; color:var(--muted);
  background:#0a1224; border:1px dashed #233461;
  padding:6px 8px; border-radius:10px;
  opacity:0; transform:translateY(6px);
  transition:.7s ease .25s;
}
.scene.reveal .seller-note{
  opacity:1; transform:translateY(0);
}

.market-mid{
  width:210px; height:210px; position:relative;
  display:grid; place-items:center;
}

.spread-chip{
  position:absolute; top:-80px;
  background:#050810; border:1px solid #18244a;
  padding:6px 10px; border-radius:999px;
  font-weight:900; font-size:.9rem; color:#ffd9b6;
  z-index:3;
}

/* Trade track + flyvende skin */
.trade-track{
  position:absolute; inset:0;
  border-radius:999px;
  border:1px solid #1a274e;
  background: radial-gradient(120px 120px at 50% 50%, rgba(124,195,255,.08), transparent 60%);
  overflow:hidden;
  opacity:0; transform:scale(.95);
  transition:.8s ease .2s;
}
.scene.reveal .trade-track{ opacity:1; transform:scale(1); }

.trade-track img{
  position:absolute; top:50%; left:50%;
  width:115px; transform:translate(-50%,-50%);
  opacity:0;
  filter: drop-shadow(0 8px 16px rgba(0,0,0,.75));
}

.track-dots{
  position:absolute; inset:12px;
  border-radius:999px;
  border:1px dashed rgba(124,195,255,.25);
  animation: spinDots 10s linear infinite;
}
@keyframes spinDots{
  to{ transform:rotate(360deg); }
}

/* Mini log */
.mini-log{
  position:absolute; bottom:-250px; width:100%;
  display:grid; gap:6px;
  font-size:.9rem; font-weight:800;
}
.log-row{
  display:flex; justify-content:space-between;
  padding:6px 8px; border-radius:8px;
  background:#0a1224; border:1px dashed #233461;
  opacity:0; transform:translateY(6px);
  animation: logPop .35s ease forwards;
}
.log-row.buy{ color:#b6ffd9; border-color:#1d5f4a; }
.log-row.sell{ color:#ffc9b6; border-color:#6a2c2c; }
.log-row .muted{ color:var(--muted); font-weight:700; }
@keyframes logPop{
  to{ opacity:1; transform:translateY(0); }
}

/* Steps reveal */
.steps2{ margin-top:300px; display:grid; gap:8px; }
.steps2 .arb-step.is-on{ opacity:1; transform:translateY(0); }

/* Result */
.result2{
  margin-top:12px;
  opacity:0; transform:translateY(6px);
  transition:.7s ease;
}
.result2.is-on{ opacity:1; transform:translateY(0); }

.outroline{
  margin-top:12px;
  color:#d8def0; font-size:1.05rem; line-height:1.65;
}
/* ===== Kapittel 4: Skin showcase ===== */
.skin-showcase{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:12px;
  opacity:0;
  transform: translateY(10px) scale(.98);
  transition: .8s cubic-bezier(.2,.8,.2,1);
}

.scene.reveal .skin-showcase{
  opacity:1;
  transform: translateY(0) scale(1);
}

@media (max-width: 900px){
  .skin-showcase{ grid-template-columns: 1fr; }
}

.skin-card{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:10px;
  display:grid;
  grid-template-columns: 140px 1fr;
  gap:10px;
  align-items:center;
  box-shadow: 0 12px 28px rgba(0,0,0,.5);
  transition: .25s ease;
  position:relative;
  overflow:hidden;
}

.skin-card::after{
  content:"";
  position:absolute; inset:-30%;
  background: radial-gradient(260px 120px at 30% 0%, rgba(124,195,255,.20), transparent 60%);
  opacity:0;
  transition:.25s ease;
  pointer-events:none;
}

.skin-card:hover{
  transform: translateY(-2px);
  border-color:#2f4684;
  box-shadow:
    0 0 0 1px rgba(124,195,255,.25) inset,
    0 18px 40px rgba(0,0,0,.65);
}

.skin-card:hover::after{
  opacity:1;
}

.skin-card img{
  width:100%;
  height:100px;
  object-fit:contain;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,.7));
  transform: rotate(-2deg);
  transition:.25s ease;
}

.skin-card:hover img{
  transform: rotate(0deg) scale(1.04);
}

.skin-title{
  font-weight:1000;
  font-size:1.1rem;
  letter-spacing:.02em;
}

.skin-sub{
  color:var(--muted);
  font-weight:700;
  font-size:.95rem;
  margin-top:4px;
}
/* ===== Kapittel 1: Origin interaksjon ===== */
.origin-wrap{
  margin-top:14px;
  opacity:0;
  transform: translateY(10px) scale(.98);
  transition: .9s cubic-bezier(.2,.8,.2,1);
}
.scene.reveal .origin-wrap{
  opacity:1;
  transform: translateY(0) scale(1);
}

.origin-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  grid-template-areas:
    "a b"
    "c c"
    "d e";
  gap:10px;
  margin-top:6px;
}

.origin-tile{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:12px;
  display:grid;
  gap:2px;
  text-align:left;
  cursor:pointer;
  transition:.25s ease;
  box-shadow:0 10px 22px rgba(0,0,0,.45);
  position:relative;
  overflow:hidden;
}
.origin-tile:hover{
  transform: translateY(-2px);
  border-color:#2f4684;
  box-shadow:
    0 0 0 1px rgba(124,195,255,.25) inset,
    0 18px 40px rgba(0,0,0,.65);
}
.origin-tile::after{
  content:"";
  position:absolute; inset:-35%;
  background: radial-gradient(260px 120px at 20% 0%, rgba(124,195,255,.18), transparent 60%);
  opacity:0; transition:.25s ease;
  pointer-events:none;
}
.origin-tile:hover::after{ opacity:1; }

.origin-kicker{
  font-size:.75rem;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--muted);
  font-weight:900;
}
.origin-title{
    color: #d8def0;
  font-weight:1000;
  font-size:1.1rem;
}
.origin-sub{
  color:#cbd6f0;
  font-weight:800;
  font-size:.95rem;
}

/* midtcase */
.origin-center{
  grid-area:c;
  display:grid;
  place-items:center;
  background:#050810;
  border:1px dashed #233461;
  border-radius:16px;
  padding:14px 10px;
  position:relative;
  overflow:hidden;
}

.case-orb{
  position:relative;
  width:160px; height:120px;
  display:grid; place-items:center;
}
.case-orb img{
  width:100%; height:100%;
  object-fit:contain;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.7));
  animation: caseFloat 4.2s ease-in-out infinite;
  opacity:.95;
}
.case-ring{
  position:absolute; inset:-10px;
  border-radius:999px;
  border:1px solid rgba(124,195,255,.25);
  animation: ringSpin 9s linear infinite;
}
.case-spark{
  position:absolute; inset:-25px;
  background: radial-gradient(120px 60px at 50% 20%, rgba(112,255,191,.18), transparent 60%);
  opacity:.0;
  animation: sparkPulse 3.4s ease-in-out infinite;
}
.case-caption{
  margin-top:6px;
  font-weight:900;
  color:var(--muted);
  letter-spacing:.08em;
  text-transform:uppercase;
  font-size:.8rem;
}

@keyframes caseFloat{
  0%,100%{ transform:translateY(0) scale(1); }
  50%{ transform:translateY(-6px) scale(1.02); }
}
@keyframes ringSpin{
  to{ transform:rotate(360deg); }
}
@keyframes sparkPulse{
  0%,100%{ opacity:0; }
  50%{ opacity:1; }
}

/* tooltip område */
.origin-note{
  margin-top:8px;
  min-height:38px;
  padding:8px 10px;
  border-radius:12px;
  background:#0a1224;
  border:1px dashed #233461;
  color:#dbe3f7;
  font-weight:800;
  font-size:.98rem;
  opacity:0;
  transform:translateY(4px);
  transition:.25s ease;
}
.origin-note.show{
  opacity:1;
  transform:translateY(0);
}

@media (max-width: 900px){
  .origin-grid{
    grid-template-columns:1fr;
    grid-template-areas:
      "a"
      "b"
      "c"
      "d"
      "e";
  }
}
/* ===== Kapittel 3: rutine-loop ===== */
.routine-wrap{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:10px;
}

@media (max-width: 1000px){
  .routine-wrap{ grid-template-columns: repeat(2,1fr); }
}
@media (max-width: 620px){
  .routine-wrap{ grid-template-columns: 1fr; }
}

.routine-card{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:12px;
  display:grid;
  gap:4px;
  position:relative;
  overflow:hidden;
  opacity:0;
  transform:translateY(8px) scale(.98);
  transition:.55s ease;
  box-shadow:0 10px 22px rgba(0,0,0,.45);
}

.chapter3.reveal .routine-card{
  opacity:1;
  transform:translateY(0) scale(1);
}

.chapter3.reveal .routine-card:nth-child(1){ transition-delay:.05s; }
.chapter3.reveal .routine-card:nth-child(2){ transition-delay:.18s; }
.chapter3.reveal .routine-card:nth-child(3){ transition-delay:.31s; }
.chapter3.reveal .routine-card:nth-child(4){ transition-delay:.44s; }

.routine-card::after{
  content:"";
  position:absolute; inset:-35%;
  background: radial-gradient(260px 120px at 20% 0%, rgba(255,168,107,.18), transparent 60%);
  opacity:0; transition:.25s ease;
  pointer-events:none;
}
.routine-card:hover::after{ opacity:1; }

.routine-card:hover{
  transform:translateY(-2px) scale(1.01);
  border-color:#3a4f8f;
  box-shadow:
    0 0 0 1px rgba(255,168,107,.25) inset,
    0 18px 40px rgba(0,0,0,.65);
}

.routine-num{
  width:28px; height:28px; border-radius:999px;
  display:grid; place-items:center;
  font-weight:1000; font-size:.95rem;
  background:#0a0f1e; border:1px solid #2a3d72;
  color:#ffd9b6;
}

.routine-title{
  font-weight:1000;
  font-size:1.05rem;
}

.routine-text{
  color:var(--muted);
  font-weight:700;
  font-size:.95rem;
  line-height:1.5;
}
/* ===== Kapittel 5 interaksjon (FIX: bruker .scene.reveal) ===== */

#s5 .dayline{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap:8px;
  align-items:center;
  background:#050810;
  border:1px dashed #233461;
  border-radius:14px;
  padding:10px;

  opacity:0;
  transform:translateY(8px);
  transition:.7s ease;
}

/* NÅ blir de synlige når seksjonen får reveal */
#s5.reveal .dayline{
  opacity:1;
  transform:translateY(0);
}

@media (max-width: 900px){
  #s5 .dayline{
    grid-template-columns:1fr;
    gap:6px;
  }
  #s5 .dayarrow{ display:none; }
}

#s5 .daynode{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:12px;
  padding:10px;
  display:grid; gap:2px;
  transition:.25s ease;
  position:relative; overflow:hidden;
}

#s5 .daynode.night{
  border-color:#2a5f4c;
  box-shadow:0 0 0 1px rgba(112,255,191,.25) inset;
}

#s5 .daynode:hover{
  transform:translateY(-2px);
  box-shadow:0 16px 32px rgba(0,0,0,.6);
}

#s5 .daytime{ font-weight:1000; letter-spacing:.04em; color:#dbe3f7; }
#s5 .daylabel{ font-weight:900; font-size:1.05rem; }
#s5 .daysub{ color:var(--muted); font-weight:700; font-size:.95rem; }

#s5 .dayarrow{
  font-weight:1000;
  color:#7cc3ff;
  opacity:.7;
}


/* Portfolio split cards */
#s5 .portfolio-split{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:10px;

  opacity:0;
  transform:translateY(8px);
  transition:.7s ease .1s;
}

/* NÅ blir de synlige */
#s5.reveal .portfolio-split{
  opacity:1;
  transform:translateY(0);
}

@media (max-width: 900px){
  #s5 .portfolio-split{ grid-template-columns:1fr; }
}

#s5 .ps-card{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:12px;
  display:grid; gap:8px;
  transition:.25s ease;
  position:relative; overflow:hidden;
}

#s5 .ps-card:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 38px rgba(0,0,0,.6);
}

/* farger */
#s5 .ps-card.flips{
  border-color:#6a2c2c;
  box-shadow:0 0 0 1px rgba(255,168,107,.18) inset;
}
#s5 .ps-card.holds{
  border-color:#1d5f4a;
  box-shadow:0 0 0 1px rgba(112,255,191,.18) inset;
}

#s5 .ps-title{ font-weight:1000; font-size:1.15rem; }
#s5 .ps-list{
  margin:0; padding-left:18px;
  color:#cbd6f0; font-weight:700; line-height:1.6;
}
/* ===== Kapittel 6: Mood interaksjon (synlig med #s6.reveal) ===== */

#moodNeedle{ transform:translateX(0); }

#s6 .mood-wrap{
  margin-top:12px;
  background:#050810;
  border:1px dashed #233461;
  border-radius:14px;
  padding:12px;
  opacity:0;
  transform:translateY(8px);
  transition:.7s ease;
}
#s6.reveal .mood-wrap{
  opacity:1;
  transform:translateY(0);
}

#s6 .mood-header{
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom:8px;
}
#s6 .mood-title{
  font-weight:1000; letter-spacing:.02em; font-size:1.1rem;
}
#s6 .mood-sub{
  color:var(--muted); font-weight:800; font-size:.95rem;
}

#s6 .mood-meter{
  position:relative;
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:12px;
  padding:10px;
  overflow:hidden;
}

#s6 .mood-track{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap:6px;
}

#s6 .mood-zone{
  padding:10px;
  border-radius:10px;
  font-weight:900;
  font-size:.95rem;
  line-height:1.4;
  text-align:center;
  color:#cbd6f0;
  background:#0a1224;
  border:1px solid #1b2a55;
}
#s6 .mood-zone.down{
  border-color:#6a2c2c;
  color:#ffc9b6;
  background:rgba(255,120,120,.06);
}
#s6 .mood-zone.mid{
  border-color:#2a3d72;
  color:#dbe3f7;
}
#s6 .mood-zone.up{
  border-color:#1d5f4a;
  color:#b6ffd9;
  background:rgba(112,255,191,.06);
}

/* Needle */
#s6 .mood-needle{
  position:absolute;
  bottom:6px;
  left:50%;
  width:3px; height:56px;
  background:linear-gradient(180deg, #fff, #7cc3ff);
  border-radius:999px;
  box-shadow:0 0 12px rgba(124,195,255,.9);
  transform:translateX(-50%);
  transition:transform 1.1s cubic-bezier(.2,.8,.2,1);
}

/* Cards */
#s6 .mood-cards{
  margin-top:10px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:8px;
}
@media (max-width: 900px){
  #s6 .mood-cards{ grid-template-columns:1fr; }
}

#s6 .mood-card{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:12px;
  padding:10px;
  display:grid; gap:4px;
  transition:.25s ease;
  position:relative; overflow:hidden;
}
#s6 .mood-card:hover{
  transform:translateY(-2px);
  box-shadow:0 16px 32px rgba(0,0,0,.6);
}

#s6 .mood-card.down{
  border-color:#6a2c2c;
  box-shadow:0 0 0 1px rgba(255,168,107,.12) inset;
}
#s6 .mood-card.up{
  border-color:#1d5f4a;
  box-shadow:0 0 0 1px rgba(112,255,191,.12) inset;
}

#s6 .mood-card-title{
  font-weight:1000; font-size:1.05rem;
}
#s6 .mood-card-text{
  color:var(--muted); font-weight:700; font-size:.95rem; line-height:1.55;
}
/* ===== Kapittel 7: Scam flash + Loss log ===== */

#s7 .scam-flash{
  position:relative;
  margin:20px 0;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  transform:scale(0.9);
  transition:0.6s ease;
}
#s7.reveal .scam-flash{
  opacity:1;
  transform:scale(1);
}

#s7 .scam-msg{
  font-size:2.2rem;
  font-weight:1000;
  letter-spacing:0.18em;
  color:#ff6a6a;
  text-shadow:
    0 0 12px rgba(255,80,80,.5),
    0 0 24px rgba(255,40,40,.3);
  opacity:0;
  transform:translateY(8px);
  animation: scamIn 1.2s ease forwards .25s; /* bare inn, ikke ut */
}

@keyframes scamIn{
  0%   {opacity:0; transform:translateY(8px);}
  100% {opacity:1; transform:translateY(0);}
}


/* TAP-LISTE */
#s7 .loss-log-wrap{
  background:#06080f;
  padding:12px;
  border-radius:12px;
  border:1px solid #2a1c1c;
  margin-top:18px;
}
#s7 .loss-log-title{
  font-weight:1000;
  color:#ffb3b3;
  margin-bottom:6px;
  font-size:1.05rem;
}
#s7 .loss-log{
  display:grid;
  gap:6px;
}
#s7 .loss-entry{
  background:#150a0a;
  border-left:3px solid #ff4b4b;
  padding:8px 10px;
  font-weight:800;
  font-size:.95rem;
  color:#ffbebe;
  transform:translateX(-12px);
  opacity:0;
  transition:.4s ease;
}
#s7.reveal .loss-entry{
  opacity:1;
  transform:translateX(0);
}

/* ===== Kapittel 8: Crash interaksjoner ===== */

#s8 .crash-ticker{
  margin-top:12px;
  background:#050810;
  border:1px solid #18244a;
  border-radius:12px;
  padding:8px;
  overflow:hidden;

  opacity:0;
  transform:translateY(8px);
  transition:.7s ease;
}
#s8.reveal .crash-ticker{
  opacity:1;
  transform:translateY(0);
}

#s8 .crash-track{
  display:flex;
  gap:8px;
  white-space:nowrap;
  font-weight:900;
  animation: crashScroll 10s linear infinite;
}
#s8 .crash-chip{
  padding:6px 10px;
  background:#0d152b;
  border:1px solid #233461;
  border-radius:999px;
  font-size:.92rem;
  color:#cfe1ff;
}
#s8 .crash-chip.down{
  color:#ffc9b6;
  border-color:#6a2c2c;
  background:rgba(255,120,120,.06);
}
#s8 .crash-chip.up{
  color:#b6ffd9;
  border-color:#1d5f4a;
  background:rgba(112,255,191,.06);
}

@keyframes crashScroll{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* Crash chart */
#s8 .crash-chart{
  margin-top:12px;
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:12px;

  opacity:0;
  transform:translateY(8px);
  transition:.7s ease .05s;
}
#s8.reveal .crash-chart{ opacity:1; transform:translateY(0); }

#s8 .chart-title{
  font-weight:1000; margin-bottom:8px;
}
#s8 .chart-line{
  height:10px; background:#0a0f1e; border:1px solid #233461;
  border-radius:999px; overflow:hidden;
}
#s8 .chart-line span{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, #ff7a7a, #7cc3ff, #70ffbf);
  transition:1.4s ease;
  box-shadow:0 0 12px rgba(124,195,255,.8);
}

#s8 .chart-legend{
  margin-top:8px; display:flex; gap:8px; flex-wrap:wrap;
  font-weight:800; font-size:.92rem; color:var(--muted);
}
#s8 .leg{ padding:4px 8px; border-radius:999px; border:1px dashed #2a3d72; }
#s8 .leg.down{ color:#ffc9b6; border-color:#6a2c2c; }
#s8 .leg.up{ color:#b6ffd9; border-color:#1d5f4a; }
#s8 .leg.flat{ color:#cbd6f0; }

/* Panic split */
#s8 .panic-split{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:10px;

  opacity:0;
  transform:translateY(8px);
  transition:.7s ease .08s;
}
#s8.reveal .panic-split{ opacity:1; transform:translateY(0); }

@media (max-width: 900px){
  #s8 .panic-split{ grid-template-columns:1fr; }
}

#s8 .panic-card{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:12px;
  display:grid; gap:8px;
  transition:.25s ease;
  position:relative; overflow:hidden;
}
#s8 .panic-card:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 38px rgba(0,0,0,.6);
}

#s8 .panic-card.panic{
  border-color:#6a2c2c;
  box-shadow:0 0 0 1px rgba(255,120,120,.12) inset;
}
#s8 .panic-card.calm{
  border-color:#1d5f4a;
  box-shadow:0 0 0 1px rgba(112,255,191,.12) inset;
}

#s8 .panic-title{ font-weight:1000; font-size:1.1rem; }
#s8 .panic-list{
  margin:0; padding-left:18px;
  color:#cbd6f0; font-weight:800; line-height:1.6;
}
/* ===== Kapittel 8 (NY uten graf): Terminal + stamps + ticker ===== */

#s8 .crash-ticker.big{
  margin-top:12px;
  background:#050810;
  border:1px solid #18244a;
  border-radius:12px;
  padding:10px;
  overflow:hidden;
  opacity:0; transform:translateY(8px); transition:.7s ease;
}
#s8.reveal .crash-ticker.big{ opacity:1; transform:translateY(0); }

#s8 .crash-track{
  display:flex; gap:8px; white-space:nowrap; font-weight:1000;
  animation: crashScroll 9s linear infinite;
}
#s8 .crash-chip{
  padding:7px 11px;
  background:#0d152b;
  border:1px solid #233461;
  border-radius:999px;
  font-size:.95rem;
  color:#cfe1ff;
}
#s8 .crash-chip.down{ color:#ffc9b6; border-color:#6a2c2c; background:rgba(255,120,120,.06); }
#s8 .crash-chip.up{ color:#b6ffd9; border-color:#1d5f4a; background:rgba(112,255,191,.06); }
@keyframes crashScroll{ 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }

/* layout */
#s8 .crash-story.no-graph{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:12px;
  align-items:start;
}
@media (max-width: 1000px){
  #s8 .crash-story.no-graph{ grid-template-columns:1fr; }
}

/* text steps */
#s8 .cstep{ margin:10px 0; transition:.25s ease; }
#s8 .cstep.active{
  background:rgba(124,195,255,.06);
  border-left:3px solid #7cc3ff;
  padding-left:10px;
  border-radius:6px;
}

/* sticky terminal */
#s8 .market-terminal{
  position:relative;
  top:auto;
  background:#050810;
  border:1px solid #22335f;
  border-radius:14px;
  padding:10px;
  opacity:0; transform:translateY(8px);
  transition:.7s ease .05s;
  box-shadow:0 20px 60px rgba(0,0,0,.55);
}
#s8.reveal .market-terminal{ opacity:1; transform:translateY(0); }

#s8 .term-head{
  display:flex; justify-content:space-between; align-items:center;
  border-bottom:1px dashed #233461; padding-bottom:6px; margin-bottom:6px;
}
#s8 .term-title{ font-weight:1000; letter-spacing:.12em; font-size:.9rem; color:#cfe1ff; }
#s8 .term-status{
  font-weight:1000; font-size:.9rem; padding:4px 8px; border-radius:999px;
  background:#0b1427; border:1px solid #233461; color:#dbe3f7;
}

#s8 .term-body{
  display:grid; gap:6px; min-height:220px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size:.92rem; font-weight:800; color:#d8def0;
}
#s8 .term-line{
  background:#0b1427; border:1px solid #1d2b52; border-radius:8px;
  padding:6px 8px; opacity:.25; transform:translateX(-6px); transition:.35s ease;
}
#s8 .term-line.on{ opacity:1; transform:translateX(0); }
#s8 .term-line.down{ color:#ffc9b6; border-color:#6a2c2c; }
#s8 .term-line.up{ color:#b6ffd9; border-color:#1d5f4a; }

#s8 .term-foot{
  margin-top:8px; border-top:1px dashed #233461; padding-top:6px;
}
#s8 .term-chip{
  display:inline-flex; gap:6px; align-items:center;
  padding:5px 9px; border-radius:999px; background:#0b1427; border:1px solid #233461;
  font-weight:900; color:#cbd6f0; font-size:.9rem;
}

/* STAMPS */
#s8 .stamps{ position:relative; height:0; }
#s8 .stamp{
  position:fixed; right:6vw; top:20vh; z-index:8;
  font-weight:1000; letter-spacing:.2em;
  padding:10px 16px; border-radius:12px;
  background:rgba(5,8,16,.9); border:2px solid;
  transform:translateY(10px) scale(.95);
  opacity:0; transition:.35s ease; pointer-events:none;
}
#s8 .stamp.show{ opacity:1; transform:translateY(0) scale(1); }
#stampPanic8{ border-color:#ff6a6a; color:#ffb3b3; }
#stampSpread8{ border-color:#7cc3ff; color:#cfe1ff; top:30vh; }
#stampRebound8{ border-color:#70ffbf; color:#b6ffd9; top:40vh; }
#stampExit8{ border-color:#ffa86b; color:#ffe3d0; top:50vh; }

/* hot words + tooltip */
#s8 .hotword{
  font-weight:1000; color:#e9eefc; text-decoration:underline;
  text-decoration-thickness:2px; text-underline-offset:3px; cursor:pointer;
  transition:.2s ease;
}
#s8 .hotword:hover{ color:#7cc3ff; text-shadow:0 0 10px rgba(124,195,255,.7); }

#s8 .chapter8{
  position: relative;
}

#s8 .tip{
  position:absolute;
  z-index:999;
  background:#0b1427;
  border:1px solid #22335f;
  color:#dbe3f7;
  padding:8px 10px;
  border-radius:10px;
  font-weight:800;
  font-size:.95rem;
  max-width:240px;
  opacity:0;
  pointer-events:none;

  /* viktig: start litt skjult og over punktet */
  transform: translate(-50%, -110%);
  transition: .15s ease;
}

#s8 .tip.show{
  opacity:1;
  transform: translate(-50%, -120%); /* litt ekstra opp når den vises */
}



/* panic split (visible on #s8.reveal) */
#s8 .panic-split{
  margin-top:12px; display:grid; grid-template-columns: repeat(2, minmax(0,1fr));
  gap:10px; opacity:0; transform:translateY(8px); transition:.7s ease .08s;
}
#s8.reveal .panic-split{ opacity:1; transform:translateY(0); }
@media (max-width: 900px){ #s8 .panic-split{ grid-template-columns:1fr; } }

#s8 .panic-card{
  background:#0b1427; border:1px solid #22335f; border-radius:14px;
  padding:12px; display:grid; gap:8px;
}
#s8 .panic-card.panic{ border-color:#6a2c2c; }
#s8 .panic-card.calm{ border-color:#1d5f4a; }
#s8 .panic-title{ font-weight:1000; font-size:1.1rem; }
#s8 .panic-list{ margin:0; padding-left:18px; font-weight:900; line-height:1.6; color:#cbd6f0; }
#s8 .panic-list li{ opacity:.25; transform:translateX(-6px); transition:.4s ease; }
#s8 .panic-list li.on{ opacity:1; transform:translateX(0); }

/* subtle market shake only when class is on */
#s8.shake .scene-inner{
  animation: marketShake 0.6s ease-in-out infinite;
}
@keyframes marketShake{
  0%,100%{ transform:translateY(0); }
  25%{ transform:translateY(-1px); }
  50%{ transform:translateY(1px); }
  75%{ transform:translateY(-0.5px); }
}
/* ===== Kapittel 9: Lesson board ===== */

#s9 .lesson-board{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:10px;

  opacity:0;
  transform:translateY(10px);
  transition:.7s ease;
}
#s9.reveal .lesson-board{
  opacity:1;
  transform:translateY(0);
}

@media (max-width: 1000px){
  #s9 .lesson-board{ grid-template-columns:1fr; }
}

#s9 .lesson-col{
  background:#0b1427;
  border:1px solid #22335f;
  border-radius:14px;
  padding:10px;
  display:grid; gap:8px;
  min-height:100%;
  position:relative;
  overflow:hidden;
}

#s9 .lesson-head{
  font-weight:1000;
  letter-spacing:.05em;
  font-size:1.05rem;
  padding-bottom:6px;
  border-bottom:1px dashed #233461;
}

#s9 .lesson-card{
  background:#050810;
  border:1px solid #1c2a55;
  border-radius:12px;
  padding:10px;
  display:grid; gap:4px;

  opacity:0;
  transform:translateY(8px);
  transition:.55s ease;
}

#s9.reveal .lesson-card{
  opacity:1;
  transform:translateY(0);
}

#s9 .lesson-title{
  font-weight:1000;
  font-size:1.02rem;
}

#s9 .lesson-text{
  color:var(--muted);
  font-weight:700;
  font-size:.95rem;
  line-height:1.55;
}

#s9 .closingline{
  margin-top:12px;
  font-weight:800;
  color:#cbd6f0;
}
